{
  "dynamodbEndPoint": {
    "Type": "AWS::EC2::VPCEndpoint",
    "Properties": {
      "RouteTableIds": [
        {
          "Ref": "PublicRT"
        },
        {
          "Ref": "InternalRT1"
        },
        {
          "Ref": "InternalRT2"
        },
        {
          "Ref": "InternalRT3"
        }
      ],
      "VpcEndpointType": "Gateway",
      "PolicyDocument": "{\n    \"Version\":\"2012-10-17\",\n    \"Statement\":[\n        {\n            \"Effect\":\"Allow\",\n            \"Principal\": \"*\",\n            \"Action\":[\"s3:*\"],\n            \"Resource\":[\"*\"]\n        }\n    ]\n}\n",
      "ServiceName": {
        "Fn::Join": [
          "",
          [
            "com.amazonaws.",
            {
              "Ref": "AWS::Region"
            },
            ".dynamodb"
          ]
        ]
      },
      "VpcId": {
        "Ref": "PRIVATEEGRESSVPC"
      }
    }
  },
  "cloudformationEndPoint": {
    "Type": "AWS::EC2::VPCEndpoint",
    "Properties": {
      "VpcId": {
        "Ref": "PRIVATEEGRESSVPC"
      },
      "SubnetIds": [
        {
          "Ref": "ReservedMgmt1"
        },
        {
          "Ref": "ReservedMgmt2"
        },
        {
          "Ref": "ReservedMgmt3"
        }
      ],
      "SecurityGroupIds": [
        {
          "Ref": "VPCEndpoint"
        }
      ],
      "ServiceName": {
        "Fn::Join": [
          "",
          [
            "com.amazonaws.",
            {
              "Ref": "AWS::Region"
            },
            ".cloudformation"
          ]
        ]
      },
      "PrivateDnsEnabled": true,
      "VpcEndpointType": "Interface"
    }
  }
}
